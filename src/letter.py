from src.image import Image
from src.color import Color


class Letter(Image):

    bitmap_dict_old = dict(
        A = "00000000,00111100,01100110,01100110,01111110,01100110,01100110,01100110",
        B = "01111000,01001000,01001000,01110000,01001000,01000100,01000100,01111100",
        C = "00000000,00011110,00100000,01000000,01000000,01000000,00100000,00011110",
        D = "00000000,00111000,00100100,00100010,00100010,00100100,00111000,00000000",
        E = "00000000,00111100,00100000,00111000,00100000,00100000,00111100,00000000",
        F = "00000000,00111100,00100000,00111000,00100000,00100000,00100000,00000000",
        G = "00000000,00111110,00100000,00100000,00101110,00100010,00111110,00000000",
        H = "00000000,00100100,00100100,00111100,00100100,00100100,00100100,00000000",
        I = "00000000,00111000,00010000,00010000,00010000,00010000,00111000,00000000",
        J = "00000000,00011100,00001000,00001000,00001000,00101000,00111000,00000000",
        K = "00000000,00100100,00101000,00110000,00101000,00100100,00100100,00000000",
        L = "00000000,00100000,00100000,00100000,00100000,00100000,00111100,00000000",
        M = "00000000,00000000,01000100,10101010,10010010,10000010,10000010,00000000",
        N = "00000000,00100010,00110010,00101010,00100110,00100010,00000000,00000000",
        O = "00000000,00111100,01000010,01000010,01000010,01000010,00111100,00000000",
        P = "00000000,00111000,00100100,00100100,00111000,00100000,00100000,00000000",
        Q = "00000000,00111100,01000010,01000010,01000010,01000110,00111110,00000001",
        R = "00000000,00111000,00100100,00100100,00111000,00100100,00100100,00000000",
        S = "00000000,00111100,00100000,00111100,00000100,00000100,00111100,00000000",
        T = "00000000,01111100,00010000,00010000,00010000,00010000,00010000,00000000",
        U = "00000000,01000010,01000010,01000010,01000010,00100100,00011000,00000000",
        V = "00000000,00100010,00100010,00100010,00010100,00010100,00001000,00000000",
        W = "00000000,10000010,10010010,01010100,01010100,00101000,00000000,00000000",
        X = "00000000,01000010,00100100,00011000,00011000,00100100,01000010,00000000",
        Y = "00000000,01000100,00101000,00010000,00010000,00010000,00010000,00000000",
        Z = "00000000,00111100,00000100,00001000,00010000,00100000,00111100,00000000",
    )

    bitmap_dict = dict(
        A = "01111110,11111111,11100111,11100111,11111111,11111111,11100111,11100111",
        B = "11111110,11111111,11100111,11111110,11111110,11100111,11111111,11111110",
        C = "01111110,11111111,11100111,11100000,11100000,11100111,11111111,01111110",
        D = "11111110,11111111,11100111,11100111,11100111,11100111,11111111,11111110",
        E = "11111111,11111111,11100000,11111100,11111100,11100000,11111111,11111111",
        F = "11111111,11111111,11100000,11111100,11111100,11100000,11100000,11100000",
        G = "01111110,11111111,11100111,11100000,11101111,11100111,11111111,01111110",
        H = "11100111,11100111,11100111,11111111,11111111,11100111,11100111,11100111",
        I = "11100000,11100000,11100000,11100000,11100000,11100000,11100000,11100000",
        J = "00011100,00011100,00011100,00011100,00011100,00011100,11111100,11111000",
        K = "11100011,11100111,11101110,11111100,11111100,11101110,11100111,11100011",
        L = "11100000,11100000,11100000,11100000,11100000,11100000,11111111,11111111",
        M = "11100011,11110111,11111111,11111111,11100011,11100011,11100011,11100011",
        N = "11100111,11110111,11110111,11111111,11111111,11111111,11101111,11100111",
        O = "01111110,11111111,11100111,11100111,11100111,11100111,11111111,01111110",
        P = "11111110,11111111,11100111,11111111,11111110,11100000,11100000,11100000",
        Q = "01111110,11111111,11100111,11100111,11100011,11101101,11110110,01111011",
        R = "11111110,11111111,11100111,11111111,11111110,11100111,11100111,11100111",
        S = "01111110,11111111,11100000,11111110,01111111,00000111,11111111,01111110",
        T = "11111111,11111111,00111000,00111000,00111000,00111000,00111000,00111000",
        U = "11100111,11100111,11100111,11100111,11100111,11100111,11111111,01111110",
        V = "11100111,11100111,11100111,11100111,11100111,11100111,01111110,00111100",
        W = "11100011,11100011,11101011,11101011,11101011,11111111,01111110,00100100",
        X = "11100111,11100111,01111110,00111100,00111100,01111110,11100111,11100111",
        Y = "11100111,11100111,11100111,01111110,00111100,00011000,00011000,00011000",
        Z = "11111111,11111111,00001111,00011110,01111000,11110000,11111111,11111111",
    )

    def __init__(self, char='X', color=None):

        if not color:
            color = Color.white()
        if type(color) == tuple:
            color = Color(*color)

        char = char.strip().upper()
        assert len(char) == 1

        bitmap = Letter.bitmap_dict[char]
        colors = [[color.scaled(int(x)) for x in row] for row in bitmap.split(',')]
        
        super().__init__(colors)

    